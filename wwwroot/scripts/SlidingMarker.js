!function(t,n){"use strict";"function"==typeof define&&define.amd?define(["jquery","marker-animate"],n.bind(null,t)):"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=n(t,require("jquery"),require("marker-animate")):t.SlidingMarker=n(t,t.jQuery)}(this,function(t,n){"use strict";n=n||{},n.extend=n.extend||function d(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n)for(var i in n)n[i]&&n[i].constructor===Object?t[i]&&t[i].constructor!==Object?t[i]=n[i]:(t[i]=t[i]||{},d(t[i],n[i])):t[i]=n[i]}),t};var i,e=google.maps.Marker,o=function(t){return null===t||void 0===t?void(window.cancelAnimationFrame?window.cancelAnimationFrame(this.AT_animationHandler):clearTimeout(this.AT_animationHandler)):void google.maps.Marker.prototype.animateTo.apply(this,arguments)},a={easing:"easeInOutQuint",duration:1e3,animateFunctionAdapter:function(t,n,e,a){if(!i){if(!google.maps.Marker.prototype.animateTo)throw new Error("Please either reference markerAnimate.js, or provide an alternative animateFunctionAdapter");i=o}i.call(t,n,{easing:e,duration:a,complete:function(){}})}},r=function(t,n){function i(){}i.prototype=n.prototype,t.superClass_=n.prototype,t.prototype=new i,t.prototype.constructor=t},s=function(t,i){r(t,i);var e=i.prototype;n.extend(t.prototype,{_instance:null,originalSet:function(){return e.set.apply(this,arguments)},set:function(t,n){var i=this;i.originalSet.apply(i,arguments),"position"===t&&i instanceof p?i._setInstancePositionAnimated(n):i.originalSet.apply(i._instance,arguments)},_setInstancePositionAnimated:function(t){var n=this;if(!n._constructing)return t&&n._instance.getPosition()?void n.get("animateFunctionAdapter").call(null,n._instance,t,n.get("easing"),n.get("duration")):void(n._instance.getPosition()!==t&&n._instance.setPosition(t))},originalAddListener:function(){return e.addListener.apply(this,arguments)},addListener:function(t){var n="map_changed"===t?this._instance:c.call(this,t);return this.originalAddListener.apply(n,arguments)},map_changed:function(){},position_changed:function(){this._suppress_animation?delete this._suppress_animation:this._setInstancePositionAnimated(this.getPosition())}})},c=function(t){return t.endsWith("_changed")?this:this._instance},u=google.maps.event.addListener;google.maps.event.addListener=function(t,n,i){if(t instanceof p){var e="map_changed"===n?t._instance:c.call(t,n);return u.call(this,e,n,i)}return u.apply(this,arguments)};var l=google.maps.event.trigger;google.maps.event.trigger=function(t,n){if(t instanceof p){var i="map_changed"===n?t:c.call(t,n),e=[i].concat(Array.prototype.slice.call(arguments,1));return l.apply(this,e)}return l.apply(this,arguments)},String.prototype.endsWith=String.prototype.endsWith||function(t){return-1!==this.indexOf(t,this.length-t.length)};var p=function(t){t=n.extend({},a,t),this._instance=new e(t),this.animationPosition=null,this._constructing=!0,e.call(this,t),delete this._constructing,this.bindTo("animationPosition",this._instance,"position"),this.bindTo("anchorPoint",this._instance,"anchorPoint"),this.bindTo("internalPosition",this._instance,"internalPosition")};return s(p,e),n.extend(p.prototype,{getAnimationPosition:function(){return this.get("animationPosition")},setPositionNotAnimated:function(t){this._suppress_animation=!0,this.get("animateFunctionAdapter").call(null,this._instance,null),this.originalSet("position",t),this._instance.setPosition(t)},setDuration:function(t){this.set("duration",t)},getDuration:function(){return this.get("duration")},setEasing:function(t){this.set("easing",t)},getEasing:function(){return this.get("easing")}}),p.initializeGlobally=function(){google.maps.Marker=p},p});